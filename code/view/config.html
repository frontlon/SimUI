<html>
  <head>
  <title></title>
  <div id="themefile"></div>
  <style>
    @import "this://app/images/public.css";
    @import "this://app/images/form.css";
    html,body{width:*;height:*;overflow:hidden;margin:0;background:color(center-background-color);padding:0;}
    .wrapper{width:*;height:*;flow:horizontal-flow;overflow:auto;padding:0;margin:0;}

    .frame_left{width:120dip;height:*;display:inline-block;}
    .frame_right{width:*;height:*;display:inline-block;padding-left:8dip;margin-right:20dip;}
    .frame_right input[type="text"]{width:*}
   
    .platform_control{margin:0 0 0 10dip;}
    .platform_control button{height:16dip;line-height:16dip;font-size: 10dip;border-radius:0;border:1dip solid color(config-platform-button-border-color);background:none;width:*;margin:0}
    .platform_control button:hover{background:color(config-platform-button-hover-background-color);cursor: pointer}
    .platform_control button:active{background:color(config-platform-button-active-background-color)}
    .platform_control input{display:inline-block;width:76dip;height:17dip;font-size:10dip;border:1dip solid color(config-platform-button-border-color);border-top:0;padding:0 4dip;margin:0;top:-2dip;position:relative;}

    .platform_list{width:*;height:*;display:block;border:1dip solid color(config-platform-border-color);padding:0;margin:0 0 0 10dip}
    .platform_list li{height:24dip;line-height:24dip;display: block;padding-left:5dip;color:color(config-platform-text-color)}
    .platform_list li:current{background:color(config-platform-current-background-color);color:color(config-platform-current-text-color)}
    .platform_list li:drag-source { background-color:color(config-platform-background-color);}

    #table_default td:first-child{width:120dip;}
    .table_platform tr td:nth-child(odd){font-size:11dip;text-align:right;padding:3dip 0;}
    .table_platform tr td:nth-child(even){text-align:left;padding-bottom:0;width:180px;}
    .table_interface tr td:nth-child(odd){font-size:11dip;text-align:right;padding:3dip 0;min-width:80dip}
    .table_interface tr td:nth-child(even){text-align:left;padding-bottom:0;}
    #platform_exts{width:662dip;}
    #platform_ico{max-width:220dip;}

    #shortcut_list{padding:0;}
    #shortcut_list li{flow:row(input,input,button,button,button,label);list-style:none;margin-bottom:5dip}
    #shortcut_list li *{margin: 0 3dip;vertical-align: middle}
    #shortcut_list li input[type="text"]:nth-child(1){width:130px;}
    #shortcut_list li input[type="text"]:nth-child(2){width:230px;margin-right:3dip;}
    #shortcut_list li .openfile{margin-left:0;}

    input[type=hslider]{width:50%}

    .rombaseEnum_wrapper{flow:horizontal-flow;clear:both;}
    .rombaseEnum_wrapper p{font-size:12dip;color:color(general-text-color)}
    .rombaseEnum_wrapper div{display:block;position:relative;padding:0 5dip 5dip 5dip;width:120dip;}
    .rombaseEnum_wrapper textarea{height:300dip;display:block;width:auto}
    

  </style>
  </head>
<body>

  <tabs class="tabs" id="mytabs">
    <strip>
      <label ww="650dip" wh="310dip" for="first" selected>{{GeneralConfig}}</label>
      <label ww="980dip" wh="590dip" for="second">{{PlatformConfig}}</label>
      <label ww="540dip" wh="280dip" for="third">{{InterfaceConfig}}</label>
      <label ww="540dip" wh="500dip" for="fourth">{{RombaseEnum}}</label>
      <label ww="570dip" wh="300dip" for="fifth">{{Shortcut}}</label>
    </strip>
    <panels>
      <section id="first">
        <!-- 通用配置 -->
          <table id="table_default">
            <tr><td><div class="tip" title="{{SoftTitleTip}}">?</div>{{SoftTitle}}：</td><td><input type="text"  id="config_soft_name" value=""> <button class="openfile" for="config_soft_name" caption="{{SelectPicFile}}" filter="picture Files (*.ico,*.png,*.gif,*.jpg,*.jpeg,*.bmp)|*.ico;*.png;*.gif;*.jpg;*.jpeg;*.bmp|All Files (*.*)|*.*">...</button></td></tr>
            <tr><td><div class="tip" title="{{LangTip}}">?</div>{{Lang}}：</td><td><select id="config_lang"></select></td></tr>
            <tr><td><div class="tip" title="{{PicSearchEnginesTitle}}">?</div>{{PicSearchEngines}}：</td><td><input type="text" id="config_search_engines" style="width:280dip"></td></tr>  
            <tr><td>{{StartCheckUpgrade}}：</td><td><select id="config_enable_upgrade">
                <option value="1">{{Yes}}</option>
                <option value="0">{{No}}</option>
              </select>
              </td></tr>
          </table>
          <div class="form_bottom">
              <button class="cancel">{{Cancel}}</button>
              <button class="ok" id="config_submit">{{UpdateConfig}}</button>
          </div>
      </section>
      <section id="second">
        <!-- 平台设置 -->
        <div class="wrapper">
          <div class="frame_left">
              <div class="platform_control">
                <button class="add" id="platform_add" title="{{AddNewPlatform}}">{{AddNewPlatform}}</button>
                <button class="sub" id="platform_del" title="{{DeletePlatform}}">{{DeletePlatform}}</button>
              </div>
              <ul class="platform_list" id="platform_list" size="5"></ul>
              
          </div>
          <div class="frame_right">

            <table class="table_platform">
                <tr>
                  <th colspan="4" style="padding-top:0">{{BaseInfo}}</th>
                </tr>
                <tr>
                  <td>{{Title}}：</td>
                  <td><input type="text" value="" id="platform_name" disabled></td>
                  <td><div class="tip" title="{{PlatformIconTip}}">?</div>{{Icon}}：</td>
                  <td><input type="text"  id="platform_ico" value="" disabled> <button class="openfile" for="platform_ico" caption="{{SelectConfigFile}}" filter="picture Files (*.ico,*.png,*.gif,*.jpg,*.jpeg,*.bmp)|*.ico;*.png;*.gif;*.jpg;*.jpeg;*.bmp|All Files (*.*)|*.*" disabled>...</button></td>
                </tr>
                <tr>
                  <td>{{RomType}}：</td>
                  <td colspan="3"><input type="text" value="" id="platform_exts" disabled></td>
                </tr>
                <tr><td>{{Simulator}}：</td><td colspan="3">
                  <select id="platform_sim" disabled></select>
                  <button id="add_sim" disabled>{{AddSimulator}}</button>
                </td></tr>
                <tr>
                  <th>{{MenuConfig}}：</th>
                  <th colspan="3" style="text-align:right">
                  {{SetPlatformTip}}：
                  <button id="openPlatformFolder" caption="{{SelectFolder}}">...</button>
                  </th>
                </tr>
                
                <tr>
                    <td>{{RomMenu}}：</td>
                    <td><input type="text"  id="platform_rom" value="" disabled> <button class="openfolder" for="platform_rom" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td>{{ThumbMenu}}：</td>
                    <td><input type="text" id="platform_thumb" value="" disabled> <button class="openfolder" for="platform_thumb" caption="{{SelectFolder}}" disabled>...</button></td>
                </tr>
                <tr>
                    <td>{{SanpMenu}}：</td>
                    <td><input type="text" id="platform_snap" value="" disabled> <button class="openfolder" for="platform_snap" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td>{{PosterMenu}}：</td>
                    <td><input type="text" id="platform_poster" value="" disabled> <button class="openfolder" for="platform_poster" caption="{{SelectFolder}}" disabled>...</button></td>
                </tr>
                <tr>
                    <td>{{PackingMenu}}：</td>
                    <td><input type="text" id="platform_packing" value="" disabled> <button class="openfolder" for="platform_packing" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td>{{CassetteMenu}}：</td>
                    <td><input type="text" id="platform_cassette" value="" disabled> <button class="openfolder" for="platform_cassette" caption="{{SelectFolder}}" disabled>...</button></td>
                </tr>
                <tr>
                    <td>{{TitleMenu}}：</td>
                    <td><input type="text" id="platform_title" value="" disabled> <button class="openfolder" for="platform_title" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td>{{IconMenu}}：</td>
                    <td><input type="text" id="platform_icon" value="" disabled> <button class="openfolder" for="platform_icon" caption="{{SelectFolder}}" disabled>...</button></td>
                </tr>
                <tr>
                    <td>{{BackgroundMenu}}：</td>
                    <td><input type="text" id="platform_background" value="" disabled> <button class="openfolder" for="platform_background" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td>{{GifMenu}}：</td>
                    <td><input type="text" id="platform_gif" value="" disabled> <button class="openfolder" for="platform_gif" caption="{{SelectFolder}}" disabled>...</button></td>
                    </tr>
                <tr>
                   <td>{{VideoMenu}}：</td>
                   <td><input type="text" id="platform_video" value="" disabled> <button class="openfolder" for="platform_video" caption="{{SelectFolder}}" disabled>...</button></td>
                   <td>{{DescMenu}}：</td>
                   <td><input type="text"  id="platform_doc" value="" disabled> <button class="openfolder" for="platform_doc" caption="{{SelectFolder}}" disabled>...</button></td>
                </tr>
                <tr>
                    <td>{{StrategyMenu}}：</td>
                    <td><input type="text" id="platform_strategy"  value="" disabled> <button class="openfolder" for="platform_strategy" caption="{{SelectFolder}}" disabled>...</button></td>
                    <td><div class="tip" title="{{RombaseTip}}">?</div>{{Rombase}}：</td>
                    <td><input type="text"  id="platform_rombase" value="" disabled> <button class="openfile" for="platform_rombase" caption="{{SelectConfigFile}}" filter="csv Files (*.csv)|*.csv|All Files (*.*)|*.*" disabled>...</button></td>
                </tr>
            </table>
            <div class="form_bottom">
                <button class="cancel">{{Cancel}}</button>
                <button class="ok" id="platform_submit">{{UpdateConfig}}</button>
            </div>
          </div>
        </div>
      </section>
      <section id="third">
        <!-- 界面设置 -->

          <table class="table_interface">

            <tr>
              <td>{{Cursor}}：</td>
              <td colspan="3"><input type="text"  id="config_cursor" value=""> <button class="openfile" for="config_cursor" caption="{{SelectPicFile}}" filter="cursor Files (*.cur,*.ani,*.png,*.gif)|*.cur;*.ani;*.png;*.gif|All Files (*.*)|*.*">...</button></td>
            </tr>
            <tr>
              <td>{{BackgroundPic}}：</td>
              <td colspan="3"><input type="text"  id="config_background" value=""> <button class="openfile" for="config_background" caption="{{SelectPicFile}}" filter="picture Files (*.png,*.gif,*.jpg,*.jpeg,*.bmp)|*.png;*.gif;*.jpg;*.jpeg;*.bmp|All Files (*.*)|*.*">...</button>
                <select id="config_background_repeat">
                    <option value="repeat">{{BackgroundRepeat}}</option>
                    <option value="cover">{{BackgroundCover}}</option>
                    <option value="no-repeat">{{BackgroundNoRepeat}}</option>
                </select>
              </td>
            </tr>
            <tr>
              <td>{{BackgroundOpacity}}：</td>
              <td colspan="3"><input type="hslider" id="config_background_opacity" min="70" max="100" step="5" /> <span id="info_background_opacity"></span></td>
            </tr>
          </table>
          <div class="form_bottom">
                <button class="cancel">{{Cancel}}</button>
                <button class="ok" id="interface_submit">{{UpdateConfig}}</button>
          </div>
      </section>
      <section id="fourth">
      
      <div class="rombaseEnum_wrapper">
        <div><p>{{BaseType}}</p><textarea id="rombase_type"></textarea></div>
        <div><p>{{BasePublisher}}</p><textarea id="rombase_publisher"></textarea></div>
        <div><p>{{BaseCountry}}</p><textarea id="rombase_country"></textarea></div>
        <div><p>{{BaseVersion}}</p><textarea id="rombase_version"></textarea></div>
      </div>
      <div class="form_bottom">
              <button class="cancel">{{Cancel}}</button>
              <button class="ok" id="rombase_submit">{{UpdateConfig}}</button>
          </div>
      
      
      </section>
      <section id="fifth">
        <!-- 快捷工具 -->
        <div class="wrapper">
          <ul id="shortcut_list"></ul>
          <table><tr><th colspan="4"></th></tr><tr><td style="text-align:center"><button id="shortcut_add">{{AddShortcut}}</button></td></tr></table>
        </div>
      </section>

    </panels>
  </tabs>

  <script type="text/tiscript">
    include ROOTPATH + "tis/plugins/tabs.tis";
    include ROOTPATH + "tis/plugins/dragdrop.tis";
    include ROOTPATH + "tis/utils.tis";
    include ROOTPATH + "tis/dialog/config.tis";

    //初始化主题
    initUiTheme();

    //平台列表点击
    event click $(#platform_list li) {
      try{
        GetPlatformItem(this);
      }catch(e){
        alert(e);}
    }

    //更新通用配置信息
    event click $(#config_submit) {
      configSubmit(this);
    }

    //更新平台信息
    event click $(#platform_submit) {
      platformSubmit(this);
    }

    //添加模拟器
    event click $(#add_sim) {
      addSim(this);
    };

    //修改模拟器模拟器
    event change $(#platform_sim) {
      editSim(this);
    }

    //选择文件夹
    event click $(.openfolder){
        openFolder(this);
    }

    //选择文件
    event click $(.openfile){
      openFile(this);
    }

    //添加平台
    event click $(#platform_add){
        platformAdd(this);
    }

    //删除平台
    event click $(#platform_del){
      platformDel(this);
    }

    //选择平台目录
    event click $(#openPlatformFolder) {
        openPlatformFolder(this);
    }

    //添加快捷工具
    event click $(#shortcut_add){
        shortcutAdd(this);
    }

    //更新快捷工具
    event click $(.shortcut_update){
        shortcutUpdate(this);
    }

    //删除快捷工具
    event click $(.shortcut_delete){
        shortcutDelete(this);
    }

    //背景图片
    event blur $(#config_background) {
        setBackgroundImage(this);
    }

    //背景显示方式
    event change $(#config_background_repeat) {
        setBackgroundRepeat(this);
    }

    //内容透明度
    event change $(#config_background_opacity) {
        setBackgroundOpacity(this);
    }

    //更换鼠标指针
    event blur $(#config_cursor) {
        setCursor(this);
    }

    //提交界面变更
    event click $(#interface_submit) {
        interfaceSubmit(this);
    }

    event click $(.cancel){
        view.close();
    }

    //添加快捷工具
    event click $(#rombase_submit){
        rombaseSubmit();
    }
    


</script>
</body>
</html>
