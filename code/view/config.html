<html>
  <head>
  <title></title>
  <style>
    @import "this://app/images/public.css";
    html,body{width:*;height:*;overflow:hidden;margin:0;padding:4dip;}
    .wrapper{width:*;height:*;flow:horizontal-flow;overflow:hidden;padding:8dip;}
    .frame_left{width:120dip;height:*;display:inline-block;}
    .frame_right{width:320dip;height:*;display:inline-block;padding-left:8dip;}
    .frame_right input[type="text"]{border:1dip solid #999;border-radius:2dip}
    
    table{width:*;display:block}
    th{text-align:left;border-bottom:1dip solid #ccc;padding:16dip 0 4dip 0;}
    td:first-child{font-size:11dip;text-align:right;padding:8dip 0;}
    tr:last-child td{text-align:center;padding-bottom:0}
    .platform_list{width:*;height:610px;display:block;border:1dip solid #ccc;padding:0;margin:0}
    .platform_list li{height:24dip;line-height:24dip;display: block;padding-left:5dip}
    .platform_list li:current{background:#3399ff;color:#FFF}
    .platform_list li:drag-source { background-color:#eee;}

    #table_default td:first-child{width:120dip;}
    #table_backup td{text-align:left;}
    #table_backup td:first-child{width:40dip}
    #table_backup .backup_info{font-size:10dip;line-height:1.5em}

    #shortcut_list{padding:0;}
    #shortcut_list li{flow:row(input,input,button,button,button,label);}
    #shortcut_list li *{margin: 0 3dip;vertical-align: middle}
    #shortcut_list li input[type="text"]:nth-child(1){width:130px;}
    #shortcut_list li input[type="text"]:nth-child(2){width:230px;margin-right:3dip;}
    #shortcut_list li .openfile{margin-left:0;}

    .platform_control{height:16dip;flow:horizontal-flow;}
    .platform_control button{width:42dip;height:16dip;line-height:16dip;font-size: 10dip;border-radius:0;border:1dip solid #ccc;background:none}
    .platform_control button:hover{background:#eee;cursor: pointer}
    .platform_control button:active{background:#ddd}
    .platform_control input{display:inline-block;width:76dip;height:17dip;font-size:10dip;border:1dip solid #ccc;border-top:0;padding:0 4dip;margin:0;top:-2dip;position:relative;}

  </style>
  </head>
<body>

  <tabs id="mytabs">
    <strip>
      <label for="first" selected>{{GeneralConfig}}</label>
      <label for="second">{{PlatformConfig}}</label>
      <label for="third">{{Shortcut}}</label>
      <label for="fourth">{{BackupAndRestore}}</label>
    </strip>
    <panels>
      <section id="first">
        <div class="wrapper">
          <table id="table_default">
            <tr><td><div class="tip" title="{{SoftNameTip}}">&#xf3c1;</div>{{SoftName}}</td><td><input type="text"  id="config_soft_name" value=""> <button class="openfile" for="config_soft_name" caption="{{SelectPicFile}}" filter="picture Files (*.ico,*.png,*.gif,*.jpg,*.jpeg,*.bmp)|*.ico;*.png;*.gif;*.jpg;*.jpeg;*.bmp|All Files (*.*)|*.*">&#x2026;</button></td></tr>
            <tr><td><div class="tip" title="{{LangTip}}">&#xf3c1;</div>{{Lang}}</td><td><select id="config_lang"></select></td></tr>
            <tr><td><div class="tip" title="{{ThumbTip}}">&#xf3c1;</div>{{IndexThumb}}</td><td><select id="config_thumb">
              <option value="thumb">{{Thumb}}</option>
              <option value="snap">{{Snap}}</option>
              <option value="poster">{{Poster}}</option>
              <option value="packing">{{Packing}}</option>
            </select></td></tr>

              <tr><td><div class="tip" title="{{PicSearchEnginesTitle}}">&#xf3c1;</div>{{PicSearchEngines}}</td><td><input type="text" id="config_search_engines" style="width:280dip"></td></tr>
              
              <tr><td>{{StartCheckUpgrade}}</td><td><select id="config_enable_upgrade">
                <option value="1">{{Yes}}</option>
                <option value="0">{{No}}</option>
              </select>
              </td></tr>
              <tr><td colspan="2"><button id="config_submit">{{UpdateConfig}}</button></td></tr>
          </table>
        </div>
      </section>
      <section id="second">
        <div class="wrapper">
          <div class="frame_left">
              <ul class="platform_list" id="platform_list" size="5"></ul>
              <div class="platform_control">
                <button class="sub" id="platform_del" title="{{DeletePlatform}}">{{DeletePlatform}}</button>
                <button class="add" id="platform_add" title="{{AddNewPlatform}}">{{AddNewPlatform}}</button>
              </div>
          </div>
          <div class="frame_right">
            <table>
                <tr><th colspan="2" style="padding-top:0">{{BaseInfo}}</th></tr>
                <tr><td>{{Title}}</td><td><input type="text" value="" id="platform_name" disabled></td></tr>
                <tr><td><div class="tip" title="{{PlatformIconTip}}">&#xf3c1;</div>{{Icon}}</td><td><input type="text"  id="platform_icon" value="" disabled> <button class="openfile" for="platform_icon" caption="{{SelectConfigFile}}" filter="picture Files (*.ico,*.png,*.gif,*.jpg,*.jpeg,*.bmp)|*.ico;*.png;*.gif;*.jpg;*.jpeg;*.bmp|All Files (*.*)|*.*" disabled>&#x2026;</button></td></tr>
                <tr><td>{{RomType}}</td><td><input type="text" value=""  id="platform_exts" disabled></td></tr>
                <tr><td>{{Simulator}}</td><td>
                  <select id="platform_sim" disabled></select>
                  <button id="add_sim" disabled>{{AddSimulator}}</button>
                </td></tr>
                <tr><th colspan="2">{{MenuConfig}}</th></tr>
                <tr><td>{{RomMenu}}</td><td><input type="text"  id="platform_rom" value="" disabled> <button class="openfolder" for="platform_rom" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{ThumbMenu}}</td><td><input type="text" id="platform_thumb" value="" disabled> <button class="openfolder" for="platform_thumb" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{SanpMenu}}</td><td><input type="text" id="platform_snap" value="" disabled> <button class="openfolder" for="platform_snap" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{PosterMenu}}</td><td><input type="text" id="platform_poster" value="" disabled> <button class="openfolder" for="platform_poster" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{PackingMenu}}</td><td><input type="text" id="platform_packing" value="" disabled> <button class="openfolder" for="platform_packing" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{TitleMenu}}</td><td><input type="text" id="platform_title" value="" disabled> <button class="openfolder" for="platform_title" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{BackgroundMenu}}</td><td><input type="text" id="platform_background" value="" disabled> <button class="openfolder" for="platform_background" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{VideoMenu}}</td><td><input type="text" id="platform_video" value="" disabled> <button class="openfolder" for="platform_video" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{DescMenu}}</td><td><input type="text"  id="platform_doc" value="" disabled> <button class="openfolder" for="platform_doc" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td>{{StrategyMenu}}</td><td><input type="text" id="platform_strategy"  value="" disabled> <button class="openfolder" for="platform_strategy" caption="{{SelectFolder}}" disabled>&#x2026;</button></td></tr>
                <tr><td><div class="tip" title="{{RomlistTip}}">&#xf3c1;</div>{{Romlist}}</td><td><input type="text"  id="platform_romlist" value="" disabled> <button class="openfile" for="platform_romlist" caption="{{SelectConfigFile}}" filter="ini Files (*.ini)|*.ini|All Files (*.*)|*.*" disabled>&#x2026;</button></td></tr>
                <tr><th colspan="2"></th></tr>
                <tr><td colspan="2"><button id="platform_submit" disabled>{{UpdateConfig}}</button></td></tr>
            </table>
          </div>
        </div>
      </section>

      <section id="third">
        <div class="wrapper">
          <ul id="shortcut_list"></ul>
          <table><tr><td style="text-align:center"><button id="shortcut_add">{{AddShortcut}}</button></td></tr></table>
        </div>
      </section>

      <section id="fourth">
        <div class="wrapper">

          <table id="table_backup">
            <tr><td>{{Backup}}</td><td><button id="backup_config" caption="{{SelectBackupFile}}" filter="ini Files (*.ini)|*.ini|All Files (*.*)|*.*">{{StartBackup}}</button></td></tr>
            <tr><td>{{Restore}}</td><td>
              <input type="text"  id="restore_input" value=""> <button id="get_restore_config" for="restore_input" caption="{{SelectBackupFile}}" filter="ini Files (*.ini)|*.ini|All Files (*.*)|*.*" >&#x2026;</button> <button id="restore_config">{{StartRestore}}</button></td></tr>
            <tr><td></td><td class="backup_info">
              {{BackupTime}}：<span id="backup_info_date"></span><br>
              {{PlatformInfo}}<span id="backup_info_platform"></span></span><br>
              {{SimInfo}}<span id="backup_info_simulator"></span></span><br>
              {{Shortcut}}：<span id="backup_info_shortcut"></span></span><br>
            </td></tr>
          </table>

        </div>
      </section>

    </panels>
  </tabs>

  <script type="text/tiscript">
    include ROOTPATH + "tis/plugins/tabs.tis";
    include ROOTPATH + "tis/plugins/dragdrop.tis";
    include ROOTPATH + "tis/utils.tis";
    include ROOTPATH + "tis/dialog/config.tis";

    //平台列表点击
    event click $(#platform_list li) {
      GetPlatformLitem(this);
    }

    //更新通用配置信息
    event click $(#config_submit) {
      configSubmit(this);
    }

    //更新平台信息
    event click $(#platform_submit) {
      platformSubmit(this);
    }

    //添加模拟器
    event click $(#add_sim) {
      addSim(this);
    };

    //修改模拟器模拟器
    event change $(#platform_sim) {
      editSim(this);
    }

    //选择文件夹
    event click $(.openfolder){
        openFolder(this);
    }

    //选择文件
    event click $(.openfile){
      openFile(this);
    }

    //添加平台
    event click $(#platform_add){
        platformAdd(this);
    }

    //删除平台
    event click $(#platform_del){
      platformDel(this);
    }

    //添加快捷工具
    event click $(#shortcut_add){
        shortcutAdd(this);
    }

    //更新快捷工具
    event click $(.shortcut_update){
        shortcutUpdate(this);
    }

    //删除快捷工具
    event click $(.shortcut_delete){
        shortcutDelete(this);
    }

    //备份文件
    event click $(#backup_config){
        backupConfig(this);
    }

    //读取配置信息
    event click $(#get_restore_config){
        getRestoreConfig(this);
    }

    //还原配置
    event click $(#restore_config){
        restoreConfig(this);
}
</script>
</body>
</html>
