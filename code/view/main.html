<!DOCTYPE html>
<html lang="zh-CN" window-icon="this://app/images/ico.png" window-resizable window-frame="transparent">
<head>
<meta charset="utf-8" />
<title></title>
<div id="themefile"></div>
<style type="text/css">
    @import "this://app/images/public.css";
    html{min-width:800dip;width:*;background:transparent;border:1dip solid color(window-outside-border-color);}
    a{text-decoration:none}
    body{font-size:11dip;border:1dip solid color(window-inside-border-color);background-position:center center;background-repeat:no-repeat;background-size:cover;margin:0}
    splitter{background:color(sidebar-background-color);}
    splitter:hover{background:color(sidebar-background-color)}
    #left_platform{background-color:color(sidebar-background-color);height:*;}
    #left_menu{background-color:color(sidebar-background-color);height:*;}
    #center{background-color:color(center-background-color);box-shadow:inset 0 0 4dip color(center-box-shadow-color);height:*;overflow:scroll-indicator;position:relative;}
    #right{background-color:color(sidebar-background-color);height:*;overflow:scroll-indicator;padding:0 9dip;width:205dip;position:relative;}
    
    /* 菜单 */
    menu{display:none;border:1dip solid color(context-border-color);padding:0}
    menu li{padding:9dip 16dip 9dip 9dip;text-align:center;color:color(context-text-color);line-height:17dip;height:17dip;list-style:none}
    menu li:nth-child(odd){ background:color(context-odd-background-color)}
    menu li:nth-child(even){ background:color(context-even-background-color)}
    menu li:hover{background:color(context-hover-background-color);color:color(context-hover-text-color);cursor:pointer}
    menu li.active{background:color(left-menu-list-active-background-color);color:color(left-menu-list-active-text-color)}
    menu li i{line-height:17dip;height:17dip;width:18dip;text-align:left;padding-top:0;vertical-align:middle;font-size:14dip!important;}
    menu li > label{padding-left:15dip;}
    menu hr{display:none}

    /* 标题栏 */
    #titlebar{height:36dip;line-height:36dip;width:100%;position:relative;flow:horizontal-flow;background:color(platform-background-color);}
    #logo{color:color(logo-text-color);width:202dip;line-height:36dip;display:inline-block;text-align:center;font-size:14dip;background-color:color(titlebar-background-color);}
    #tb_left{text-align:left;width:*;display:inline-block;height:36dip;overflow:hidden;}
    #tb_right{text-align:right;width:226dip;display:inline;background-color:color(titlebar-background-color);}
    #titlebar i{font-size:18dip;line-height:36dip;display:block}
    #titlebar button{color:color(titlebar-button-text-color);background:color(titlebar-button-background-color);size:36dip;line-height:36dip;display:inline-block;margin-left:1dip;font-size:11dip;padding:0}
    #titlebar button:hover{opacity:0.7;cursor:pointer}
    #titlebar button.disabled{opacity:0.3;}
    #tb_left button{border-right:1dip solid color(platform-arrow-border-light);border-left:1dip solid color(platform-arrow-border-dark);margin:0;padding:0}

    /* 状态栏 */
    .statebar{background:color(statebar-background-color);height:42dip;width:*;margin-top:0;}
    .statebar .counnum{color:color(statebar-text-color);position:absolute;right:17dip;line-height:42dip}
 
    /* 搜索栏 */
    .search{height:26dip;background:color(search-background-color);margin:9dip;position:relative}
    .search .input{color:color(search-input-text-color);height:26dip;line-height:26dip;background:none;border:0;display:block;width:95dip;position:absolute;left:4dip;padding:0}
    .search .submit{color:color(search-ico-text-color);height:26dip;width:12dip;line-height:27dip;border:0;display:block;position:absolute;right:0;font-size:18dip;background:none;cursor: pointer;}
    .search .submit:hover{opacity: 0.7;}

    /* 字母选择 */
    #num_search{position:fixed;display:block;top:100dip;height:*;padding:0;}
    #num_search li{display:block;font-size:10dip;padding:3dip;text-align:center;color:color(num-index-text-color)}
    #num_search li:hover{color:color(num-index-hover-text-color)}
    #num_search li:current{color:color(num-index-active-text-color);}

    /* 平台按钮 */
    #platform_ul{overflow:scroll-indicator;height:*;margin:0;padding:0;background:color(platform-background-color);}
    #platform_ul  li{display:block;text-align:center;vertical-align: middle;padding:5dip;min-height:40dip;color:color(platform-text-color);background:none;border-top:1dip solid color(platform-arrow-border-light);border-bottom:1dip solid color(platform-arrow-border-dark);white-space:pre-wrap;word-wrap:break-word;word-break:break-all;}
    #platform_ul  li .imgdiv{display: block}
    #platform_ul  li img{size:28dip;margin:3dip auto 5dip auto;}

    #platform_ul  li p{margin:0;line-height:1.4em;display:block}
    #platform_ul  li:hover{opacity:0.7;cursor:pointer}
    #platform_ul  li:current{background-color:color(platform-active-background-color);opacity:1;border-right:color(platform-active-background-color);border-left:color(platform-active-background-color)}
    
    /* 侧边栏菜单 */
    #menulist{padding:0 9dip;height:*;overflow:scroll-indicator;}
    #menulist dt{text-align:left;padding:9dip 0;color:color(sidebar-title-text-color)}
    #menulist dd{color:color(menu-text-color);line-height:1.4em;min-height:25dip;padding:2dip 5dip 2dip 10dip;vertical-align: middle;border-top:1dip solid color(menu-separator-color);}
    #menulist dd:hover{cursor:pointer}
    #menulist dd:current{background-color:color(menu-active-background-color);color:color(menu-active-text-color);}
    #platform_list dd:drag-source { background-color:#eee;}

    /* rom模块 */
    #romlist{display:block;}
    .romblock{flow:horizontal-flow;clear:both;padding:0;margin-left:12dip;}
    .romblock > li{display:inline-block;position:relative;width:*;transform:scale(1);transition:transform sine-in-out 100ms;context-menu:selector(menu#romcontext);height:auto;vertical-align:bottom}
    .romblock > li:hover{box-shadow:0 0 12dip color(rom-block-hover-box-shadow-color)}
    .romblock > li:current{border:5dip solid color(rom-block-active-border-color);box-shadow:0 0 12dip color(rom-block-hover-box-shadow-color);transform: scale(1.2);z-index:2;}
    .romblock > li img{width:100%;height:auto;min-height:width(50%);max-height:width(130%);display:block;}
    .romblock > li img:hover{cursor:pointer}
    .romblock > li div{background:color(rom-block-background-color);color:color(rom-block-text-color);text-align:center;padding:4dip;height:29dip;vertical-align:middle;display:block}
    .romblock > li p{overflow:hidden;max-height:2.5em;}
    .romblock > li span{display:none}

    #romlist.fontsize0 li div{display:none}
    #romlist.fontsize1 li{display:inherit;font-size: 8dip}
    #romlist.fontsize2 li{display:inherit;font-size: 9dip}
    #romlist.fontsize3 li{display:inherit;font-size: 10dip}
    #romlist.fontsize4 li{display:inherit;font-size:11dip}
    #romlist.fontsize5 li{display:inherit;font-size: 12dip}
    #romlist.fontsize6 li{display:inherit;font-size: 13dip}
    #romlist.fontsize7 li{display:inherit;font-size: 14dip}
    #romlist.fontsize8 li{display:inherit;font-size: 15dip}
    #romlist.fontsize9 li{display:inherit;font-size: 16dip}
    #romlist.fontsize10 li{display:inherit;font-size: 17dip}

    .romblock.zoom1 > li{min-width:80dip;max-width:120dip;margin:9dip 12dip;}
    .romblock.zoom2 > li{min-width:120dip;max-width:160dip;margin:12dip 16dip}
    .romblock.zoom3 > li{min-width:160dip;max-width:200dip;margin:9dip 12dip;}
    .romblock.zoom4 > li{min-width:200dip;max-width:280dip;margin:12dip 16dip}
    .romblock.zoom5 > li{min-width:240dip;max-width:320dip;margin:12dip 16dip}

    /* rom列表 */
    .romlist{width:*;margin-top:24dip;margin-left:28dip;list-style-type:none;padding:0;}
    .romlist > li{height:36dip;line-height:36dip;padding:0 12dip;margin:0;position:relative;context-menu:selector(menu#romcontext);}
    .romlist > li:nth-child(odd){background:color(rom-list-odd-background-color);color:color(rom-list-odd-text-color);}
    .romlist > li:nth-child(even){background:color(rom-list-even-background-color);color:color(rom-list-even-text-color);}
    .romlist > li:hover{cursor:pointer}
    .romlist > li:current{background:color(rom-list-active-background-color);color:color(rom-list-active-text-color);}
    .romlist > li img{border-radius:50%;width:19dip;height:19dip;vertical-align:middle;margin:0;display:block;position:absolute;top:9dip;transform:scale(1);transition:transform sine-in-out 100ms;context-menu:selector(menu#romcontext);}
    .romlist > li:current img{transform: scale(1.5);}
    .romlist > li div{text-align:left;padding:0;height:auto;width:*;vertical-align:middle;display:block;position:absolute;top:0;left:40dip}
    .romlist > li p{line-height:36dip;height:36dip;font-weight:bolder;display:inline}
    .romlist > li span{line-height:36dip;height:36dip;color:color(rom-list-cate-text-color);font-weight:normal;padding-left:9dip;display:inline-block}

    /* 右侧边栏 */
    #right h2{text-align:left;padding:9dip 0;color:color(sidebar-title-text-color);font-weight:normal;font-size:11dip;line-height:19dip;margin:0}
    #right .video{width:100%;max-width:192dip;margin:0 auto;display:block;height:auto;size:auto}
    #right .run{padding:4dip;line-height:1.5em;height:auto;width:*;display:block;background:color(run-button-background-color);color:color(run-button-text-color);text-align:center;margin-bottom:9dip;overflow:hidden;white-space:pre-wrap;word-wrap:break-word;word-break:break-all}
    #right .run:hover{color:color(run-button-hover-text-color);background:color(run-button-hover-background-color);cursor:pointer}
    #right .run:active{color:color(run-button-active-text-color);background:color(run-button-active-background-color)}
    #right .doc{height:*;min-height:64dip;overflow:scroll-indicator;border:1dip solid color(right-doc-border-color);color:color(right-doc-text-color);background:color(right-doc-background-color);line-height:1.5em;padding:4dip;white-space:pre-wrap;word-wrap:break-word;word-break:break-all}
    #right .funbtn{height:19dip;line-height:19dip;width:19dip;color:color(func-button-text-color);background:color(func-button-background-color);display:inline-block;padding:0}
    #right .funbtn:hover{background:color(func-button-hover-background-color);cursor:pointer}
    #right .funbtn i{display:block}
    #right .funbtn_0{color:color(func-button-text-color)}
    #right .funbtn_1{color:color(func-button-active-text-color)}
    #right .right_desc_disable{color:color(func-button-disable-text-color);background:none;opacity:0.5;}
    #right .right_desc_disable:hover{cursor: default;background: none}
   
    /* 右侧边栏遮罩 */
    #mask{width:*;height:100%;position:absolute;z-index:2;text-align:center;vertical-align:middle;display:table-cell;background-color:color(sidebar-background-color);}
    #mask img{width:60%;display:block;margin:0 auto;opacity: 0.3;}
    #mask p{font-size:16dip;display: block;opacity: 0.5;margin-bottom:50dip}

    /* 模拟器选择 */
    #sim_select{margin:0 0 9dip 0;display:block;padding:0}
    #sim_select li{behavior:shell-icon;display:block;height:19dip;line-height:19dip;padding:0 4dip 0 26dip;color:color(sim-switch-text-color);foreground-repeat:no-repeat;foreground-position:4dip 50%;flow:horizontal-flow;}
    #sim_select li p{display:block;width:*;vertical-align:middle;margin:0}
    #sim_select li button{display:block;size:12dip;vertical-align:middle;text-align:center;background:color(sim-switch-button-background-color);color:color(sim-switch-button-text-color);padding:0;cursor: pointer;font-size: 10dip}
    #sim_select li:hover{color:color(sim-switch-hover-text-color)}
    #sim_select li:current{color:color(sim-switch-active-text-color);background:color(sim-switch-active-background-color);}

    #doc h1,#doc h2,#doc h3,#doc h4,#doc h5,#doc h6,#doc pre,
    #doc ul,#doc li,#doc ol,#doc li,#doc dl,#doc dd,#doc tr,
    #doc th,#doc td,#doc p,#doc strong,#doc em,#doc code,#doc del{font-size:11dip;font-weight:normal;list-style:none;padding:0;margin:0;font-style:normal}
    #doc p{display:block;margin-bottom:12dip}
    #doc hr{border:0;border-bottom:1px solid color(right-doc-text-color);margin:10dip 0}

    /* rom右键菜单 */
    #romcontext{font-size: 10dip;width:auto;}
    #romcontext caption{background: #1b2128;color:#FFF;padding:5dip 16dip 5dip 9dip;font-weight: bold}
    #romcontext > li{padding:7dip 16dip 7dip 28dip;text-align: left;white-space:nowrap;background-position:4dip center;background-repeat:no-repeat;background-size: 16dip;}
    #romcontext .file{behavior: shell-icon;foreground-repeat:no-repeat;foreground-position:4dip 50%;}
    #romcontext .folder{background-image:url(this://app/images/fileico_folder.png);}
    #romcontext .thumb{background-image:url(this://app/images/fileico_thumbs.png);}
    #romcontext .fav0{background-image:url(this://app/images/fileico_fav_0.png);}
    #romcontext .fav1{background-image:url(this://app/images/fileico_fav_1.png);}
    #romcontext .rename{background-image:url(this://app/images/rename.png);}
    #loading{box-shadow:0 0 9dip #fff;position:absolute;top:50%;left:50%;width:240dip;margin:-52dip 0 0 -120dip;height:auto;background:#FFF;text-align:center;padding:24dip 0;display:none}
    #loading img{display:block;margin:0 auto 9dip auto;}

    /* 侧边栏滚动图片 */
    #rotate{top:62dip;right:10dip;position:absolute;}

    #stack{overflow:hidden;flow:stack;width:100%;height:auto;}
    #stack>img{width:100%;height:auto;min-height:width(50%);max-height:width(130%);}  
</style>
</head>
<body>
<div id="console" style="box-shadow:0 0 9dip #fff;position:absolute;top:30%;left:50%;width:500dip;margin:-52dip 0 0 -250dip;height:auto;background:#FFF;text-align:center;padding:24dip 0;display:none"></div>
<div id="loading"><img src="images/loading.gif" /><p>{{Loading}}</p></div>
<menu id="romcontext"></menu>
<div class="titlebar" id="titlebar" role=window-caption>
    <div id="logo">{{SoftName}}</div>
    <div id="tb_left">
        <button id="close_platform" value="" title="关闭平台"><i>&#xe7ab;</i></button><button id="close_menu" value="" title="关闭平台"><i>&#xe7e2;</i></button><button id="close_right" value="" title="关闭平台"><i>&#xe7ac;</i></button>
        <button id="switch_romlist" value="1" title="{{SwitchRomlist}}"><i>&#xe659;</i></button><button id="zoom" value="" title="{{ZoomIcon}}"><i>&#xe60f;</i></button><button id="font_size" value="1" title="{{FontSize}}"><i>&#xe695;</i></button><button id="istop" value="" title="{{IsTop}}"><i>&#xe60e;</i></button>
    </div>
    <div id="tb_right">
        <button id="shortcut" type="menu" title="{{Shortcut}}"><i>&#xe6b8;</i><menu></menu></button><button title="{{CreateCache}}" id="create" type="menu"><i>&#xe637;</i>
            <menu>
                <li id="create_cache" opt="platform"><i>&#xe637;</i><span>{{CreateCachePlatform}}</span></li>
                <li id="create_cache" opt="all"><i>&#xe637;</i><span>{{CreateCacheAll}}</span></li>
            </menu>
        </button><button type="menu" title="{{Config}}"><i>&#xe602;</i>
            <menu>
                <li id="config"><i>&#xe602;</i><span>{{Config}}</span></li>
                <li id="theme"><i>&#xe72b;</i><span>{{Theme}}</span><menu></menu></li>
                <li id="about"><i>&#xe7b9;</i><span>{{About}}</span></li>
                <li id="help"><i>&#xf3c1;</i><span>{{Help}}</span></li>
                <li id="upgrade"><i>&#xf3c1;</i><span>检查更新</span></li>
            </menu>
        </button>     
        <button role="window-minimize"><i>&#xe661;</i></button><button role="window-maximize"><i>&#xe66b;</i></button><button role="window-close"><i>&#xe605;</i></button>
    </div>
</div>
<frameset cols="62dip,140dip,*,204dip" noresize="noresize">
    <section id="left_platform">
        <ul id="platform_ul"></ul>
    </section>
    <section id="left_menu">
        <div class="search">
            <input type="text" class="input" id="search_input" />
            <button type="submit" class="submit" id="search_submit"><i>&#xe873;</i></button>
        </div>
        <dl id="menulist"></dl>
    </section>
    <section id="center" class="scrollbar">

        <ul id="num_search"><li>ALL</li><li>A</li><li>B</li><li>C</li><li>D</li><li>E</li><li>F</li><li>G</li><li>H</li><li>I</li><li>J</li><li>K</li><li>L</li><li>M</li><li>N</li><li>O</li><li>P</li><li>Q</li><li>R</li><li>S</li><li>T</li><li>U</li><li>V</li><li>W</li><li>X</li><li>Y</li><li>Z</li><li>#</li></ul>

        <div class="statebar">

            <div class="counnum">
                <span id="rom_count_text">{{GameCount}}</span><span id="rom_count_num">0</span></div>
        </div>
        <div id="romwrapper">
            <ul id="romlist"></ul>
        </div>
    </section>
    <splitter id="right_splitter" />
    <section id="right">
        <div id="mask"><img src="" /></div>
        <h2>{{FunButton}}</h2>
        <button id="right_desc" class="funbtn" platform="" name="" value="" title="{{ViewStrategy}}"><i>&#xea07;</i></button>
        <button id="right_favorite" class="funbtn" rid="" value="" title="{{SetFavorite}}"><i>&#xe61a;</i></button>
        <button id="right_thumb_down" class="funbtn" rid="" rname="" title="{{ThumbsDown}}"><i>&#xe655;</i></button>
        <h2>{{Thumb}}</h2>
        <button id="rotate" class="funbtn">&gt;</button>
        <div id="stack"></div>
        <h2 id="doc_title">{{Doc}}</h2>
        <div id="doc" class="doc"></div>
        <h2>{{RunGame}}</h2>
        <ul id="sim_select"></ul>
        <div id="buttons"></div>
    </section>
    
</frameset>
</body>

<script type="text/tiscript">
    const mainView = view;
    //var ROOTPATH = "this://app/";
    var ROOTPATH = "D:\\work\\go\\src\\VirtualNesGUI\\code\\view\\";
    include ROOTPATH + "tis/plugins/decorators.tis";
    include ROOTPATH + "tis/plugins/rotator.tis";
    include ROOTPATH + "tis/plugins/markdown.tis";
    include ROOTPATH + "tis/plugins/dragdrop.tis";
    include ROOTPATH + "tis/utils.tis";
    include ROOTPATH + "tis/rom.tis";
    include ROOTPATH + "tis/platform.tis";
    include ROOTPATH + "tis/menu.tis";
    include ROOTPATH + "tis/sidebar.tis";
    include ROOTPATH + "tis/statebar.tis";
    include ROOTPATH + "tis/thumb.tis";
    include ROOTPATH + "tis/window.tis";
    include ROOTPATH + "tis/context.tis";
    include ROOTPATH + "tis/keycode.tis";
    include ROOTPATH + "tis/event.tis";
</script>
</html>
